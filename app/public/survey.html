<!DOCTYPE html>
<html>
<head>
	<title>Friend Finder Survey Page</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery.js"></script>

</head>
<body>

	<!-- Build the questions using radio buttons-->

	<div class="container-fluid">
		
		<div class="row">
			
			<div class="col-md-12">
				
				<h1>Survey Questions</h1>
				<hr>

				<h2>All About You</h2>

				<div class="panel panel-primary">
					
					<div class="panel-heading">
						<h3 class="panel-title">Please enter your name and a link to a picture, then take the survey below.</h3>
					</div>

					<div class="panel-body">
						
						<div class="form-group">
							
							<label for="usr">Your Name:</label>
							<input type="text" class="form-control" id="userName">

							<label for="usr">Link to a picture:</label>
							<input type="text" class="form-control" id="userLink">

						</div>

						<br>

						<h4><strong>Please make a selection between 1 (strongly disagree) and 5 (strongly agree).</strong></h4>

						<div class="questions">

						<h3>People look smarter if they are wearing glasses.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qOne" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qOne" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qOne" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qOne" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qOne" value="5">5
    							</label>

  							</form>

  						<h3>A backpack's straps should be worn on both shoulders, never just on one.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qTwo" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qTwo" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qTwo" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qTwo" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qTwo" value="5">5
    							</label>

  							</form>

  						<h3>Mid-century modern was the last great statement in design.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qThree" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qThree" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qThree" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qThree" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qThree" value="5">5
    							</label>

  							</form>

  						<h3>People that don't drink coffee just aren't trying.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qFour" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qFour" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qFour" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qFour" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qFour" value="5">5
    							</label>

  							</form>

  						<h3>Rainy days make me feel blue.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qFive" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qFive" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qFive" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qFive" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qFive" value="5">5
    							</label>

  							</form>

  						<h3>If it's too loud, you're too old.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qSix" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qSix" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qSix" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qSix" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qSix" value="5">5
    							</label>

  							</form>

  						<h3>Baby humans are cute and all, but not as cute as a kitten.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qSeven" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qSeven" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qSeven" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qSeven" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qSeven" value="5">5
    							</label>

  							</form>

  						<h3>Horizontal stripes are never flattering.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qEight" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qEight" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qEight" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qEight" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qEight" value="5">5
    							</label>

  							</form>

  						<h3>An e-reader is a totally acceptable alternative to a book.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qNine" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qNine" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qNine" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qNine" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qNine" value="5">5
    							</label>

  							</form>

  						<h3>Gift cards are always preferable over giving cash.</h3>

							<form>

    							<label class="radio-inline">
      								<input type="radio" name="qTen" value="1">1
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qTen" value="2">2
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qTen" value="3">3
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qTen" value="4">4
    							</label>
    							<label class="radio-inline">
      								<input type="radio" name="qTen" value="5">5
    							</label>

  							</form>
								
						</div>

					</div>

				</div>

				<button type="button" class="btn btn-primary submit">Submit Answers</button></a>

				<br>

				<hr>

				<footer class="footer">

					<div class="container">
						<a href="/api/friends">API Friends List</a>
					</div>

				</footer>

				<br>

			</div>

		</div>

	</div>

</body>

<script type="text/javascript">
	
// the function to make the ajax call to get the other friends data
	function runFriendsQuery() {

		var currentURL = window.location.origin;

		$.ajax({ url: currentURL + "/api/friends", method: "GET"})
		.done(function(friendsData) {

			console.log("URL: " + currentURL + "/api/friends");
			console.log(friendsData);
		});
	}
// run the function from above
	runFriendsQuery();

// when the submit button is clicked, get the data from the input form
  $(".submit").on("click", function(event) {
    event.preventDefault();

    var currentUser = {
      name: $("#userName").val().trim(),
      photo: $("#userLink").val().trim(),
      scores: [
        parseInt($("input[name=qOne]:checked").val()),
        parseInt($("input[name=qTwo]:checked").val()),
        parseInt($("input[name=qThree]:checked").val()),
        parseInt($("input[name=qFour]:checked").val()),
        parseInt($("input[name=qFive]:checked").val()),
        parseInt($("input[name=qSix]:checked").val()),
        parseInt($("input[name=qSeven]:checked").val()),
        parseInt($("input[name=qEight]:checked").val()),
        parseInt($("input[name=qNine]:checked").val()),
        parseInt($("input[name=qTen]:checked").val())
        ]
    };
    console.log(currentUser);

// now the post command to put the data to the server
    var currentURL = window.location.origin;

    $.post(currentURL + "/api/friends", currentUser, function(data){

    });


// clears the entry fields
    $("#userName").val("");
    $("#userLink").val("");

  });

</script>
</html>